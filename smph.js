function getBaseUrl(){return window.location.href.match(/^.*\//)[0]}function getById(e){return document.getElementById(e)}function getByClass(e){return document.getElementsByClassName(e)}function getBySelector(e){return document.querySelector(e)}function getByXpath(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function getContains(e,t){var n=document.querySelectorAll(e);return Array.prototype.filter.call(n,function(e){return RegExp(t).test(e.textContent)})}function gawe(e){return document.createElement(e)}function escapeRegExp(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(e,t,n){return e.replace(new RegExp(escapeRegExp(t),"g"),n)}function sp_txt(e){for(var t,n,i,o=new RegExp(/{([^{}]+?)}/),l=getById(""+e).value;null!==(t=o.exec(l));)n=t[1].split("|"),i=Math.floor(Math.random()*n.length),l=l.replace(t[0],n[i]);return l}var imgFile,pageURL=getBaseUrl();const timer=setInterval(general,1e3);function general(){getBySelector("div.app")&&(loadModule(),initListener(),clearInterval(timer))}function initListener(){getById("getImgs").addEventListener("change",prevImg),getById("del").addEventListener("click",prevImg)}function loadModule(){function e(e){let t=0;const n=[{id:"Store",conditions:e=>e.Chat&&e.Msg?e:null},{id:"MediaCollection",conditions:e=>e.default&&e.default.prototype&&e.default.prototype.processAttachments?e.default:null},{id:"UserConstructor",conditions:e=>e.default&&e.default.prototype&&e.default.prototype.isServer&&e.default.prototype.isUser?e.default:null}];for(let i in e)if("object"==typeof e[i]&&null!==e[i]){let o=Object.values(e[i])[0];if("object"==typeof o&&o.exports){for(let o in e[i]){let i=e(o);if(i&&(n.forEach(e=>{if(!e.conditions||e.foundedModule)return;let n=e.conditions(i);null!==n&&(t++,e.foundedModule=n)}),t==n.length))break}let o=n.find(e=>"Store"===e.id);return window.Store=o.foundedModule?o.foundedModule:window.Store,n.splice(n.indexOf(o),1),n.forEach(e=>{e.foundedModule&&(window.Store[e.id]=e.foundedModule)}),window.Store.sendMessage=(e=>window.Store.SendTextMsgToChat(this,...arguments)),window.Store}}}"function"==typeof webpackJsonp?webpackJsonp([],{parasite:(t,n,i)=>e(i)},["parasite"]):webpackJsonp.push([["parasite"],{parasite:function(t,n,i){e(i)}},[["parasite"]]])}function prevImg(e){var t=getById("o_imgs"),n=e.currentTarget.getAttributeNode("data-value"),i=null,o=getById("del"),l=4*Math.pow(1024,2);n?getById(n.value).value="":(i=e.target.files[0]).size<=l?imgFile=i:(alert("File image size max 4MB"),e.currentTarget.value="",i=null),i?(t.src=URL.createObjectURL(i),o.style.display="block"):(t.removeAttribute("src"),o.style.display="none")}function gawe_wa(e,t){var n=gawe("a");n.id="xoxo",n.href="https://web.whatsapp.com/send?phone="+e+"&text="+t,document.body.appendChild(n)}function gawe_wa2(e){var t=gawe("a");t.id="xixi",t.href="https://web.whatsapp.com/send?text="+e,document.body.appendChild(t)}function dump(){return"rn"===getById("appx11").innerHTML}window.sendImage=((e,t,n,i)=>{let o=new window.Store.UserConstructor(e,{intentionallyUsePrivateConstructor:!0});return window.Store.Chat.find(o).then(e=>{let o=new window.Store.MediaCollection(e);o.processAttachments([{file:t},1],e,1).then(()=>{o.models[0].sendToChat(e,{caption:n}),void 0!==i&&i(!0)})})}),getById("insert_wa").onclick=function(){var e=getById("text-description").value,t=getById("text-send").value,n=getById("capt").value,i=getById("s_img").checked,o=getById("o_imgs").getAttribute("src"),l=dump(),s=getById("myTable_Wa");if(sessionStorage.setItem("wa_num",e),sessionStorage.setItem("wa_psn",t),sessionStorage.setItem("wa_capt",n),!e||!t&&!i&&!o||i&&!o){if(!l)return;s.innerHTML="Error: Check Number , meseg or IMG",$("#wa_count").text(0),getById("m0rt4lxC1").disabled=!0}else{if(e=e.match(/(.*|\s),.+/gm),!l)return;if(null!=e){for(var r=0;r<e.length;r++)e[r]=e[r].replace(/[^a-z\d\s,]+/gim,"");var a=[];if(s.innerHTML="",!l)return;for(r=0;r<e.length;r++){a[r]=e[r].split(",");var d=s.insertRow(r),c=replaceAll(a[r][1]," ","");d.insertCell(0).innerHTML=""+a[r][0]||0,d.insertCell(1).innerHTML=parseInt(c),d.insertCell(2).innerHTML="waiting"}$("#wa_count").text(e.length),getById("m0rt4lxC1").disabled=!1}}},getById("m0rt4lxC1").onclick=function(){var e=getById("text-description").value,t=sp_txt("text-send"),n=sp_txt("capt"),i=getById("s_tdy").checked,o=getById("s_img").checked,l=getById("o_imgs").getAttribute("src"),s=parseInt(getById("dly_wa").value)||5,r=getById("myTable_Wa"),a=[],d=[],c=[],g=[],u=dump();getById("m0rt4lxC1").disabled=!0,getById("s_tdy").disabled=!0,getById("s_img").disabled=!0,getById("getImgs").disabled=!0,getById("insert_wa").disabled=!0,getById("text-description").disabled=!0,getById("text-send").disabled=!0,getById("capt").disabled=!0,getById("del").disabled=!0,s<5&&(s=4);for(var m=e.match(/(.*|\s),.+/gm),p=0;p<m.length;p++)m[p]=m[p].replace(/[^a-z\d\s,]+/gim,"");for(p=0;p<m.length;p++){a[p]=m[p].split(",");var f=replaceAll(""+t,"[name]",""+a[p][0]),y=replaceAll(""+n,"[name]",""+a[p][0]);d[p]=encodeURIComponent(f),c[p]=y;var I=replaceAll(a[p][1]," ","");g[p]=parseInt(I)||0}u&&function(){var e=g.length,t=0;!function n(){var a=g[t],u=c[t];if(gawe_wa(g[t],d[t]),getById("xoxo").click(),t%5==0)var p=s+2;else p=s;setTimeout(function(){if((e=getByClass("_1WZqU PNlAR")).length>=1)e=e[0];else if((e=getContains("div","OK")).length>=1)e=e[e.length-1];else var e=!1;if((n=getByClass("_35EW6")).length>=1)n=getByClass("_35EW6")[0];else if(n=getBySelector("#main span[data-icon='send']"))n.parentElement;else var n=!1;var s=getByClass("vW7d1 _3rjxZ");if(s.length>=1)if(2===s.length)var d=s[0].innerText;else d=s[s.length-1].innerText;else if(1===getContains("span","TODAY").length)d="TODAY";else d="Go";if((c=getByClass("_1Plpp")).length>=1)var c=!0;else if(c=getBySelector("#main span[data-icon='ptt']"))var c=!0;else if((c=getContains("div","Type a message")).length>=7)c=!0;else c=!1;if(e)e.click(),getById("xoxo").remove(),r.rows[t-1].cells[2].innerHTML="offline";else if(n)if(i)if("TODAY"===d)r.rows[t-1].cells[2].innerHTML="skip",getById("xoxo").remove();else if(o){if(l)try{window.sendImage(a+"@c.us",imgFile,u)}catch(e){}if(n)n.click(),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="maintenance",getById("xoxo").remove()}else{if(n)n.click(),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="maintenance",getById("xoxo").remove()}else if(o){if(l)try{window.sendImage(a+"@c.us",imgFile,u)}catch(e){}if(n)n.click(),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="maintenance",getById("xoxo").remove()}else{if(n)n.click(),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="maintenance",getById("xoxo").remove()}else if(!1===n)if(c)if(i)if("TODAY"===d)r.rows[t-1].cells[2].innerHTML="skip",getById("xoxo").remove();else if(o){if(l)try{window.sendImage(a+"@c.us",imgFile,u),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove()}catch(e){}}else r.rows[t-1].cells[2].innerHTML="Empty",getById("xoxo").remove();else if(o){if(l)try{window.sendImage(a+"@c.us",imgFile,u),r.rows[t-1].cells[2].innerHTML="send",getById("xoxo").remove()}catch(e){}}else r.rows[t-1].cells[2].innerHTML="Empty",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="block",getById("xoxo").remove();else r.rows[t-1].cells[2].innerHTML="maintenance",getById("xoxo").remove()},2500),$("#wa_count").text(t+1+" from "+m.length),t++,e<=1&&(getById("s_tdy").disabled=!1,getById("s_img").disabled=!1,getById("getImgs").disabled=!1,getById("insert_wa").disabled=!1,getById("text-description").disabled=!1,getById("text-send").disabled=!1,getById("capt").disabled=!1,getById("del").disabled=!1),--e&&setTimeout(n,p+"000")}()}()},getById("m0rt4lxC2").onclick=function(){var e=getById("text-send").value,t=getById("myTable_Wa");if(dump())if(""===e)t.innerHTML="",t.innerHTML="Meseg can't empty",$("#wa_count").text("-");else{t.innerHTML="";var n=sp_txt("text-send");replaceAll(""+n,"[name]","");gawe_wa2(encodeURIComponent(n)),setTimeout(function(){getById("xixi").click()},1e3),setTimeout(function(){getById("xixi").remove()},2e3)}},window.onload=function(){if(pageURL.includes("whatsapp")){var e=sessionStorage.getItem("wa_num"),t=sessionStorage.getItem("wa_psn"),n=sessionStorage.getItem("wa_capt");dump()&&e&&($("#text-description").val(""+e),$("#text-send").val(""+t),$("#capt").val(""+n),sessionStorage.setItem("wa_num",e),sessionStorage.setItem("wa_psn",t),sessionStorage.setItem("wa_capt",n))}};
